import word2vec
import sys

def getWordVector(_fileName):
    phraseName = _fileName + "-phrases.txt"
    binName = _fileName + ".bin"
    outPutName = _fileName + "_100d.vocab"
    file  = open(outPutName, 'wt')
    word2vec.word2phrase(_fileName, phraseName, verbose=True)
    word2vec.word2vec(phraseName, binName, size=100, verbose=True)
    model = word2vec.load(binName)
    unknownLine = "UNKNOWN -0.0160331337125 -0.083602656252 -0.143482186167 -0.139744347573 -0.0961305927 -0.113103156484 -0.0148779278204 -0.167918383038 -0.0791139612853 -0.035321469739 -0.113000469683 -0.166439486216 -0.0047263792914 -0.0557911666145 -0.152991683083 -0.11661254334 -0.0457920427489 -0.16137966082 -0.169639050657 -0.0931804225629 -0.158008517874 -0.0381862085806 -0.0836147363429 -0.177580348554 -0.189848772301 -0.0519872142797 -0.0257301761159 -0.194050410628 -0.0947031287295 -0.12457984871 -0.027745927104 -0.157576757374 -0.185300920117 -0.12240657239 -0.132626511347 -0.0780851122232 -0.158985731838 -0.0145047251081 -0.163176937303 -0.0830176070345 -0.183441931164 -0.125104866416 -0.12370525714 -0.0254975416736 -0.00822963855598 -0.00591451709933 -0.0824060230923 -0.132950473494 -0.0236128620347 -0.0739977751775 -2.96040919126e-05 -0.1138934578 -0.0208891434649 -0.0677765422587 -0.180606777962 -0.0289809634721 -0.159546732498 -0.00788678690117 -0.101262225239 -0.196545162193 -0.162539217096 -0.0574782730668 -0.0128709904205 -0.199760010229 -0.140700045782 -0.023386971752 -0.15439337267 -0.0214815582932 -0.163815785573 -0.110455015293 -0.116936488621 -0.0954531395096 -0.0158105681021 -0.0995458438199 -0.166223680712 -0.0347938558825 -0.091435710599 -0.00467364001121 -0.139662013161 -0.12516706673 -0.175197044568 -0.113019647142 -0.184919338861 -0.0861922731335 -0.199886507761 -0.0894918971262 -0.157968515294 -0.0402696516046 -0.0937464208276 -0.169536148898 -0.0607645608504 -0.110122529489 -0.103065313343 -0.112651575256 -0.198162528706 -0.122720399427 -0.153863270312 -0.0243738676245 -0.103923992965 -0.0681598874106"
    paddingLine = "PADDING -0.183501164726 -0.0146467296067 -0.0136596318036 -0.143621588929 -0.163213348123 -0.053134684742 -0.169260525092 -0.149821998833 -0.190218418046 -0.126358210452 -0.126755444852 -0.148866601882 -0.149939176024 -0.123122586441 -0.0256004110225 -0.193287922837 -0.142746864388 -0.0844957487548 -0.0374016682602 -0.181322496591 -0.0562933711982 -0.131808241029 -0.0843862868173 -0.0980710539262 -0.0077620115938 -0.0319279210537 -0.195694127882 -0.0210947770546 -0.119578542341 -0.159560406715 -0.0021390179796 -0.125757739421 -0.0929639593149 -0.145420189026 -0.104576800218 -0.0295583686598 -0.0331004621757 -0.0118410812049 -0.0150707794452 -0.114900702664 -0.108720635952 -0.177407931673 -0.0453323297678 -0.00348527693511 -0.109409007494 -0.0552729496712 -0.188889056087 -0.164902422418 -0.0656749415268 -0.029826325102 -0.0963440137249 -0.0412952001568 -0.175636717731 -0.00216163840685 -0.0986566811837 -0.0485760652486 -0.00597982822316 -0.103302293221 -0.00224341436563 -0.106995917122 -0.0338260688995 -0.073309655543 -0.114754575819 -0.0415762351165 -0.00719468947686 -0.0342802854748 -0.0542328151116 -0.199054488167 -0.072211459486 -0.0990809343251 -0.0657088955435 -0.0839227244511 -0.117089933714 -0.144694887892 -0.177114881439 -0.00311893393147 -0.139989448289 -0.108902336069 -0.00104587588622 -0.101912535019 -0.00772758860925 -0.139012634714 -0.0345073414519 -0.0149706515513 -0.0316091922062 -0.181729729307 -0.111302541394 -0.138534961113 -0.174309752636 -0.0892292769315 -0.10933131731 -0.0979972039289 -0.169347902155 -0.0870088239862 -0.0700340982908 -0.060968404422 -0.0290700123489 -0.0206806178473 -0.0573347715032 -0.110700204731"
    file.write(unknownLine + "\n")
    file.write(paddingLine + "\n")
    for key in model.vocab:
        vectorLine = key
        for value in model[key]:
            vectorLine = vectorLine + " " + str(value)
        file.write(vectorLine + "\n")
    file.close()

fileName = "RSV1Subset"
for d in xrange(0,10):
    fileNameText = fileName + str(d) + ".txt"
    getWordVector(fileNameText)
